(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[595],{6918:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/AI_trends/pinecone/create_table_qa_using_pinecone_and_langchain",function(){return n(6378)}])},979:function(e,s,n){"use strict";var i=n(5893),r=n(1163),l=n(620);s.Z={logo:(0,i.jsx)("span",{children:"\uD83C\uDF0A"}),docsRepositoryBase:"https://github.com/marron-b/brown/tree/main",navigation:{prev:!0,next:!0},editLink:{text:"수정하기 →"},feedback:{content:"문의하기 →"},sidebar:{defaultMenuCollapseLevel:2},project:{link:"https://github.com/marron-b/brown"},search:{placeholder:"검색하기"},toc:{title:"",float:!0},footer:{component:(0,i.jsx)("div",{})},primaryHue:38,head:()=>{let{asPath:e,defaultLocale:s,locale:n}=(0,r.useRouter)(),{frontMatter:t}=(0,l.ZR)(),o="https://marron-marron.me"+(s===n?e:"/".concat(n).concat(e));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("meta",{property:"og:url",content:o}),(0,i.jsx)("meta",{property:"og:title",content:t.title||"Tech trends"}),(0,i.jsx)("meta",{property:"og:description",content:t.description||"Tech trends"})]})}}},6378:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return x}});var i=n(5893),r=n(2673),l=n(620),t=n(979);n(9966);var o=n(1151),a=n(5675),c=n.n(a),h={src:"/_next/static/media/table_qa.22abe0fa.png",height:428,width:1280,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAIAAAAhqtkfAAAAVUlEQVR42mNQkxRgYGBYsPX0xpOPJq0/M3/HZU1THwYGToYAz4im/rVxRV22MWVq1r4VE9f6ROamhHgwJMaVTGyZ5m3ryM/Hz8/AkJ1W1NE2w8nMFAAmNxq8iK+wvwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:3};let d={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,o.ah)(),e.components);return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(p,{...e})}):p(e)},pageOpts:{filePath:"pages/AI_trends/pinecone/create_table_qa_using_pinecone_and_langchain.mdx",route:"/AI_trends/pinecone/create_table_qa_using_pinecone_and_langchain",frontMatter:{title:"표 질의응답(Table Question Answering)을 파인콘(Pinecone), 랭체인(Langchain)으로 만들기",description:"표 질의응답(Table Question Answering)을 파인콘(Pinecone), 랭체인(Langchain)으로 만들기"},headings:[{depth:1,value:"표 질의응답(Table Question Answering)을 파인콘(Pinecone), 랭체인(Langchain)으로 만들기",id:"표-질의응답table-question-answering을-파인콘pinecone-랭체인langchain으로-만들기"},{depth:2,value:"질의응답 모델",id:"질의응답-모델"},{depth:3,value:"질의응답 모델의 종류",id:"질의응답-모델의-종류"},{depth:2,value:"표 질의응답 모델",id:"표-질의응답-모델"},{depth:2,value:"파인콘, 랭체인으로 표 질의응답 만들기",id:"파인콘-랭체인으로-표-질의응답-만들기"},{depth:3,value:"라이브러리 설치하기",id:"라이브러리-설치하기"},{depth:3,value:"데이터 세트 로드하기",id:"데이터-세트-로드하기"},{depth:3,value:"검색기(Retriever) 초기화",id:"검색기retriever-초기화"},{depth:3,value:"파인콘 인덱스 초기화",id:"파인콘-인덱스-초기화"},{depth:3,value:"임베딩 생성 및 업서트",id:"임베딩-생성-및-업서트"},{depth:3,value:"표 리더 초기화",id:"표-리더-초기화"},{depth:3,value:"쿼리",id:"쿼리"},{depth:2,value:"참고",id:"참고"}],timestamp:1687093489e3,pageMap:[{kind:"Folder",name:"AI_trends",route:"/AI_trends",children:[{kind:"MdxPage",name:"ChatGPT_SEO",route:"/AI_trends/ChatGPT_SEO",frontMatter:{title:"SEO를 위한 ChatGPT 3가지 사용 사례",description:"SEO를 위한 ChatGPT 3가지 사용 사례"}},{kind:"Meta",data:{google_io_2023:{title:"Google I/O 2023에서 발표된 중요한 소식 4가지"},ChatGPT_SEO:{title:"SEO를 위한 ChatGPT 3가지 사용 사례"},use_stable_diffusion_on_mac:{title:"애플 실리콘에서 스테이블 디퓨전 사용하기"},pinecone:{title:"파인콘"}}},{kind:"MdxPage",name:"google_io_2023",route:"/AI_trends/google_io_2023",frontMatter:{title:"Google I/O 2023에서 발표된 중요한 AI 소식 4가지",description:"Google I/O 2023에서 발표된 중요한 AI 소식 4가지"}},{kind:"Folder",name:"pinecone",route:"/AI_trends/pinecone",children:[{kind:"Meta",data:{about_pinecone:{title:"파인콘"},create_table_qa_using_pinecone_and_langchain:{title:"표 질의응답을 파인콘, 랭체인으로 만들기"},create_semantic_search_using_pinecone_and_huggingface:{title:"파인콘, 허깅페이스로 시맨틱 검색 만들기"}}},{kind:"MdxPage",name:"about_pinecone",route:"/AI_trends/pinecone/about_pinecone",frontMatter:{title:"파인콘",description:"파인콘 스타트업과 벡터 데이터베이스"}},{kind:"MdxPage",name:"create_semantic_search_using_pinecone_and_huggingface",route:"/AI_trends/pinecone/create_semantic_search_using_pinecone_and_huggingface",frontMatter:{title:"파인콘, 허깅페이스로 시맨틱 검색 만들기",description:"파인콘, 허깅페이스로 시맨틱 검색 만들기"}},{kind:"MdxPage",name:"create_table_qa_using_pinecone_and_langchain",route:"/AI_trends/pinecone/create_table_qa_using_pinecone_and_langchain",frontMatter:{title:"표 질의응답(Table Question Answering)을 파인콘(Pinecone), 랭체인(Langchain)으로 만들기",description:"표 질의응답(Table Question Answering)을 파인콘(Pinecone), 랭체인(Langchain)으로 만들기"}}]},{kind:"MdxPage",name:"use_stable_diffusion_on_mac",route:"/AI_trends/use_stable_diffusion_on_mac",frontMatter:{title:"애플 실리콘에서 스테이블 디퓨전 사용하기",description:"애플 실리콘에서 스테이블 디퓨전 사용하기"}}]},{kind:"Folder",name:"Korea_IT_trend",route:"/Korea_IT_trend",children:[{kind:"MdxPage",name:"2023",route:"/Korea_IT_trend/2023",frontMatter:{title:"2023년 주요 IT 사건",description:"2023년 주요 IT 사건"}},{kind:"Meta",data:{2023:{title:"2023"}}}]},{kind:"Meta",data:{index:{title:"marron",display:"hidden",theme:{breadcrumb:!1,footer:!1,sidebar:!0,pagination:!1}},Korea_IT_trend:{title:"국내 IT 동향"},AI_trends:{title:"AI 트렌드"},datacenter:{title:"데이터 센터"},network:{title:"네트워크",display:"hidden"},disaster_recovery:{title:"재해 복구",display:"hidden"},"---":{type:"separator"},technical_writing:{title:"테크니컬 라이팅"},about:{title:"about",display:"hidden",theme:{breadcrumb:!1,footer:!1,sidebar:!0,pagination:!1}},logs:{title:"로그",type:"menu",items:{logs:{title:"로그",href:"/logs"}}}}},{kind:"MdxPage",name:"about",route:"/about"},{kind:"Folder",name:"datacenter",route:"/datacenter",children:[{kind:"Meta",data:{datacenter_basic:{title:"데이터 센터 알아보기"},datacenter_lifecycle:{title:"데이터 센터 라이프 사이클",display:"hidden"},datacenter_it_equipment:{title:"데이터센터 IT 장비 알아보기"},hyperscale_datacenter:{title:"하이퍼스케일 데이터센터 알아보기"},datacenter_terminology:{title:"데이터 센터 용어집"}}},{kind:"MdxPage",name:"datacenter_basic",route:"/datacenter/datacenter_basic",frontMatter:{title:"데이터센터 알아보기",description:"데이터센터, 국내외 데이터센터 현황, 데이터센터 주요 설비, 데이터센터 분류와 등급에 대한 설명"}},{kind:"MdxPage",name:"datacenter_it_equipment",route:"/datacenter/datacenter_it_equipment",frontMatter:{title:"데이터센터 IT 장비 알아보기",description:"데이터센터에서 사용하는 IT 장비에 대해서 알아봅니다."}},{kind:"MdxPage",name:"datacenter_lifecycle",route:"/datacenter/datacenter_lifecycle",frontMatter:{title:"데이터 센터 라이프 사이클",description:"데이터 센터 라이프 사이클"}},{kind:"MdxPage",name:"datacenter_terminology",route:"/datacenter/datacenter_terminology",frontMatter:{title:"데이터센터 용어집",description:"데이터센터 용어집"}},{kind:"MdxPage",name:"hyperscale_datacenter",route:"/datacenter/hyperscale_datacenter",frontMatter:{title:"하이퍼스케일 데이터센터 알아보기",description:"하이퍼스케일 데이터센터 기준, 국내외 하이퍼스케일 데이터센터 동향에 대한 설명"}}]},{kind:"Folder",name:"disaster_recovery",route:"/disaster_recovery",children:[{kind:"Meta",data:{intro:{title:"개요"}}},{kind:"MdxPage",name:"intro",route:"/disaster_recovery/intro",frontMatter:{title:"아직은 음차가 익숙한 AI 관련 용어들",description:"아직은 음차가 익숙한 AI 관련 용어들"}}]},{kind:"MdxPage",name:"index",route:"/"},{kind:"MdxPage",name:"logs",route:"/logs",frontMatter:{title:"로그",description:"로그"}},{kind:"Folder",name:"network",route:"/network",children:[{kind:"MdxPage",name:"GSLB",route:"/network/GSLB",frontMatter:{title:"GSLB",description:"GSLB"}},{kind:"Meta",data:{GSLB:{title:"GSLB"}}}]},{kind:"Folder",name:"technical_writing",route:"/technical_writing",children:[{kind:"Meta",data:{loanword:{title:"이상하고 어색한 외래어 표기"},ai:{title:"아직은 음차가 익숙한 AI 관련 용어들",display:"hidden"}}},{kind:"MdxPage",name:"ai",route:"/technical_writing/ai",frontMatter:{title:"아직은 음차가 익숙한 AI 관련 용어들",description:"아직은 음차가 익숙한 AI 관련 용어들"}},{kind:"MdxPage",name:"loanword",route:"/technical_writing/loanword",frontMatter:{title:"이상하고 어색한 외래어 표기",description:"이상하고 어색한 외래어 표기"}}]}],flexsearch:{codeblocks:!0},title:"표 질의응답(Table Question Answering)을 파인콘(Pinecone), 랭체인(Langchain)으로 만들기"},pageNextRoute:"/AI_trends/pinecone/create_table_qa_using_pinecone_and_langchain",nextraLayout:l.ZP,themeConfig:t.Z};function p(e){let s=Object.assign({p:"p",h1:"h1",a:"a",h2:"h2",h3:"h3",ul:"ul",li:"li",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",pre:"pre",code:"code",span:"span"},(0,o.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.p,{children:(0,i.jsx)(c(),{alt:"table_qa",placeholder:"blur",src:h})}),"\n",(0,i.jsx)(s.h1,{children:"표 질의응답(Table Question Answering)을 파인콘(Pinecone), 랭체인(Langchain)으로 만들기"}),"\n",(0,i.jsxs)(s.p,{children:["표 질의응답 모델(Table Question Answering)을 ",(0,i.jsx)(s.a,{href:"https://www.pinecone.io/",children:"파인콘(Pinecone)"}),"과 ",(0,i.jsx)(s.a,{href:"https://python.langchain.com/en/latest/index.html",children:"랭체인(Langchain)"}),"을 사용해서 간단하게 만들어볼 수 있습니다. 이 글에서는 파인콘에서 제공하는 ",(0,i.jsx)(s.a,{href:"https://colab.research.google.com/github/pinecone-io/examples/blob/master/search/question-answering/table-qa.ipynb#scrollTo=OXXxZ_9q75RH",children:"Colab"}),"을 참고해서 표 질의 응답을 만들어보겠습니다. 먼저, '표 질의응답 모델', '질의응답 모델'이 무엇인지 알아보도록 하겠습니다."]}),"\n",(0,i.jsx)(s.h2,{id:"질의응답-모델",children:"질의응답 모델"}),"\n",(0,i.jsx)(s.p,{children:"질의응답(Question Answering) 모델이란, 문서 또는 자연어 텍스트를 기반으로 주어진 질문에 대한 대답을 생성하는 모델입니다. 질의응답을 하려면 모델은 텍스트를 이해하고 사실에 대한 추론 능력이 있어야 하기 때문에 다소 까다롭지만, 자주 묻는 질문에 대한 응답을 자동화할 수 있다는 편리함이 있어 이미 다양한 분야에서 많이 사용되고 있습니다. 질의응답 모델을 가장 접하기 쉬운 기능은 서비스의 고객 문의 챗봇이나 문서 검색입니다."}),"\n",(0,i.jsx)(s.h3,{id:"질의응답-모델의-종류",children:"질의응답 모델의 종류"}),"\n",(0,i.jsx)(s.p,{children:"질의응답은 입력 및 출력에 따라 다양한 종류가 있으며, 도메인을 기준으로 분류하기도 합니다."}),"\n",(0,i.jsx)(s.p,{children:"입력 및 출력에 따른 종류"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Extract QA: 모델이 콘텍스트로 제공된 텍스트 또는 HTML에서 답변을 추출합니다. 일반적으로 BERT 모델을 사용합니다."}),"\n",(0,i.jsx)(s.li,{children:"Open Generative QA: 모델이 콘텍스트를 기반으로 직접 텍스트를 생성합니다."}),"\n",(0,i.jsx)(s.li,{children:"Closed Generative QA: 모델에게 콘텍스트를 제공하지 않고, 모델이 처음부터 끝까지 텍스트를 생성합니다."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"도메인에 따른 분류"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"오픈 도메인(Open domain): 질문, 답변이 특정 도메인(예: 법률, 의료)으로 제한되지 않음"}),"\n",(0,i.jsx)(s.li,{children:"클로즈 도메인(Closed domain): 질문, 답변이 특정 도메인으로 제한됨"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"표-질의응답-모델",children:"표 질의응답 모델"}),"\n",(0,i.jsx)(s.p,{children:"표 질의 응답(Table Question-Answering) 모델은 질의응답 모델과 마찬가지로 질문에 대한 답변을 생성하는 모델입니다. 모델에게 줄 콘텍스트는 표 형태로 제공해야 합니다. 아래는 표 질의응답 모델을 간략하게 설명하는 예시입니다.\n예를 들어, 아래와 같은 표를 모델에게 제공합니다."}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"이름"}),(0,i.jsx)(s.th,{children:"출연작"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"이경영"}),(0,i.jsx)(s.td,{children:"35"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"오달수"}),(0,i.jsx)(s.td,{children:"23"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"조진웅"}),(0,i.jsx)(s.td,{children:"19"})]})]})]}),"\n",(0,i.jsx)(s.p,{children:"모델에게 '출연작이 가장 많은 배우가 누구인지 알려줘' 라고 질문한다면 모델은 출연작이 35편인 이경영을 답변으로 생성합니다.\n표 질의응답 모델은 다른 질의응답 모델과 자연어를 인식하고 처리하는 과정은 동일합니다. 그러나  표 질의응답 모델이 답변할 수 있는 내용은 주어진 표로 한정됩니다. 대체로 질문이 제한된 범위로 한정될 때 유용하게 사용할 수 있기 때문에, 고객 문의 챗봇에 많이 활용되고 있습니다."}),"\n",(0,i.jsx)(s.p,{children:"표 질의 응답 모델을 활용해서 시스템을 만들려면, 아래와 같은 세 가지 요소가 필요합니다."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"테이블 임베딩을 저장할 벡터 인텍스"}),"\n",(0,i.jsx)(s.li,{children:"임베딩 쿼리와 테이블을 검색하는 검색(retriever) 모델"}),"\n",(0,i.jsx)(s.li,{children:"테이블을 읽고 답변을 추출하는 리더(reader) 모델"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"파인콘-랭체인으로-표-질의응답-만들기",children:"파인콘, 랭체인으로 표 질의응답 만들기"}),"\n",(0,i.jsxs)(s.p,{children:["이제 파인콘에서 제공하는 Colab을 참고해서 표 질의 응답을 만들어보겠습니다. Colab 사용이 처음이라면 ",(0,i.jsx)(s.a,{href:"https://research.google.com/colaboratory/faq.html?hl=ko",children:"Google Colab 질문과 답변"}),"을 참고합니다."]}),"\n",(0,i.jsx)(s.h3,{id:"라이브러리-설치하기",children:"라이브러리 설치하기"}),"\n",(0,i.jsx)(s.pre,{"data-language":"shell","data-theme":"default",children:(0,i.jsx)(s.code,{"data-language":"shell","data-theme":"default",children:(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"!"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"pip"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"install"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"datasets"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"pinecone-client"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"sentence_transformers"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"torch-scatter"})]})})}),"\n",(0,i.jsx)(s.p,{children:"아래는 각 라이브러리에 대한 설명입니다."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://pypi.org/project/datasets/",children:"datasets"}),": ML 모델을 학습하고 평가하는데 사용할 수 있는 공용 데이터 세트를 제공하는 라이브러리입니다."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://pypi.org/project/pinecone-client/",children:"pinecone-client"}),": 파인콘 파이선 클라이언트입니다."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://pypi.org/project/sentence-transformers/",children:"sentence_transformers"}),": 문장, 단락, 이미지에 대한 고밀더 벡터 표현을 쉽게 계산하는 방법을 제공하며 BERT/RoBERTa/XLM-RoBERTa등과 같은 트랜스포머를 기반으로 하는 프레임워크입니다."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://pypi.org/project/torch-scatter/",children:"torch-scatter"}),": 파이토치에서 사용하기에 최적화된 sparse update(scatter and segment) 연산의 확장 라이브러리들로 구성되어 있습니다."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"데이터-세트-로드하기",children:"데이터 세트 로드하기"}),"\n",(0,i.jsxs)(s.p,{children:["위키피디아의 텍스트와 표로 구성된 ",(0,i.jsx)(s.a,{href:"https://github.com/wenhuchen/OTT-QA",children:"OTT-QA (Open Table-and-Text Question Answering)"})," 데이터 세트의 하위 세트로 작업할 것입니다. 하위 세트에는 20,000개의 테이블이 있으며, 아래와 같이 Huggingface Datasets 허브에서 로드할 수 있습니다."]}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" datasets "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" load_dataset"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# load the dataset from huggingface datasets hub"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"data "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"load_dataset"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"ashraq/ott-qa-20k"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:", split"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"train"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"data"})})]})}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Dataset"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"({"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    features: ["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'url'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:", "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'title'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:", "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'header'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:", "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'data'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:", "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'section_title'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:", "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'section_text'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:", "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'uid'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:", "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'intro'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"],"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    num_rows: "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"20000"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"})"})})]})}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"data"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"]"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "})]})}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'url'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'https://en.wikipedia.org/wiki/1976_New_York_Mets_season'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'title'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'1976 New York Mets season'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'header'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Level'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Team'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'League'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Manager'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'data'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" [["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'AAA'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Tidewater Tides'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'International League'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Tom Burgess'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  ["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'AA'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Jackson Mets'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Texas League'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'John Antonelli'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  ["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'A'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Lynchburg Mets'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Carolina League'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Jack Aker'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  ["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'A'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Wausau Mets'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Midwest League'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Bill Monbouquette'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  ["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Rookie'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Marion Mets'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Appalachian League'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Al Jackson'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]]"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'section_title'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'Farm system'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'section_text'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'See also : Minor League Baseball'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'uid'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'1976_New_York_Mets_season_7'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'intro'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'The New York Mets season was the 15th regular season for the Mets, who played home games at Shea Stadium. Led by manager Joe Frazier, the team had an 86-76 record and finished in third place in the National League East.'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"}"})]})]})}),"\n",(0,i.jsx)(s.p,{children:"테이터 세트에는 서로 관련있는 텍스트와 표가 있습니다. 이 예제에서는 표만 사용할 것 이기 때문에, 표를 추출해서 pandas 데이터 프레임으로 변환합니다."}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pandas "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pd"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# store all tables in the tables list"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"tables "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" []"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# loop through the dataset and convert tabular data to pandas dataframes"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" doc "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"in"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" data"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    table "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pd"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"DataFrame"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(doc["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"data"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"], columns"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"doc["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"header"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"])"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    tables"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"append"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(table)"})]})]})}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsx)(s.code,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"tables"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"]"})]})})}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Level"}),(0,i.jsx)(s.th,{children:"Team"}),(0,i.jsx)(s.th,{children:"League"}),(0,i.jsx)(s.th,{children:"Manager"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"AAA"}),(0,i.jsx)(s.td,{children:"Tidewater Tides"}),(0,i.jsx)(s.td,{children:"International League"}),(0,i.jsx)(s.td,{children:"Tom Burgess"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"AA"}),(0,i.jsx)(s.td,{children:"Jackson Mets"}),(0,i.jsx)(s.td,{children:"Texas League"}),(0,i.jsx)(s.td,{children:"John Antonelli"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"A"}),(0,i.jsx)(s.td,{children:"Lynchburg Mets"}),(0,i.jsx)(s.td,{children:"Carolina League"}),(0,i.jsx)(s.td,{children:"Jack Aker"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"A"}),(0,i.jsx)(s.td,{children:"Wausau Mets"}),(0,i.jsx)(s.td,{children:"Midwest League"}),(0,i.jsx)(s.td,{children:"Bill Monbouquette"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Rookie"}),(0,i.jsx)(s.td,{children:"Marion Mets"}),(0,i.jsx)(s.td,{children:"Appalachian League"}),(0,i.jsx)(s.td,{children:"Al Jackson"})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"검색기retriever-초기화",children:"검색기(Retriever) 초기화"}),"\n",(0,i.jsx)(s.p,{children:"검색기는 자연어 쿼리와 표 형식 데이터를 임베딩/벡터로 변환합니다. 자연어 질문과, 질문에 대한 답변이 포함된 표가 벡터 공간 가까운 곳에 위치하도록 임베딩을 생성합니다."}),"\n",(0,i.jsx)(s.p,{children:"검색 작업을 위해서 표 형식 데이터를 포함하도록 훈련한 Sentence Transformer 모델을 사용할 것입니다. 아래와 같이 Huggingface Models 허브에서 모델을 로드합니다."}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" torch"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" sentence_transformers "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" SentenceTransformer"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# set device to GPU if available"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"device "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'cuda'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" torch"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"cuda"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"is_available"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"else"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'cpu'"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# load the table embedding model from huggingface models hub"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"retriever "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"SentenceTransformer"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"deepset/all-mpnet-base-v2-table"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:", device"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"device)"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"retriever"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "})]})}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"SentenceTransformer"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"  ("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"): "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Transformer"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"({"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'max_seq_length'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:": "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"384"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:", "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'do_lower_case'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:": "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"False"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"}) "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"with"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:" Transformer model: MPNetModel "})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"  ("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"): "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Pooling"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"({"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'word_embedding_dimension'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:": "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"768"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:", "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'pooling_mode_cls_token'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:": "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"False"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:", "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'pooling_mode_mean_tokens'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:": "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"True"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:", "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'pooling_mode_max_tokens'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:": "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"False"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:", "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'pooling_mode_mean_sqrt_len_tokens'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:": "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"False"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"})"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"  ("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"): "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Normalize"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "})]})}),"\n",(0,i.jsx)(s.p,{children:"표를 특정 형식으로 변환하는 함수를 작성합니다."}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"def"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"_preprocess_tables"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-parameter)"},children:"tables"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"list"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"):"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    processed "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" []"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# loop through all tables"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" table "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"in"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tables"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# convert the table to csv and "})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        processed_table "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"\\n"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"join"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"([table."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"to_csv"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(index"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"False"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:")])"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# add the processed table to processed list"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        processed"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"append"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(processed_table)"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" processed"})]})]})}),"\n",(0,i.jsx)(s.p,{children:"여기에는 표만 사용하고 있습니다. 그러나 표를 검색하는 동안, 검색기가 메타데이터를 고려하도록 하려면 표의 시작 부분에서 줄 바꿈 문자로 구분된 title, section_title 등과 같은 모든 메타데이터 문자열을 조인할 수 있습니다."}),"\n",(0,i.jsx)(s.p,{children:"서식이 지정된 표를 살펴봅니다."}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# format all the dataframes in the tables list"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"processed_tables "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"_preprocess_tables"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(tables)"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# display the formatted table"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"processed_tables"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"]"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "})]})}),"\n",(0,i.jsx)(s.pre,{"data-language":"shell","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"shell","data-theme":"default",children:[(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"'Level,Team,League,Manager\\nAAA,Tidewater Tides,International League,Tom Burgess\\nAA,Jackson Mets,Texas League,John Antonelli\\nA,Lynchburg Mets,Carolina League,Jack Aker\\nA,Wausau Mets,Midwest League,Bill Monbouquette\\nRookie,Marion Mets,Appalachian League,Al Jackson\\n'"})})]})}),"\n",(0,i.jsx)(s.p,{children:"임베딩 모델이 형식이 지정된 표를 이해하고 정확하게 임베딩을 생성하도록 훈련됩니다."}),"\n",(0,i.jsx)(s.h3,{id:"파인콘-인덱스-초기화",children:"파인콘 인덱스 초기화"}),"\n",(0,i.jsx)(s.p,{children:"여기서는 파인콘 벡터 데이터베이스를 벡터 인덱스로 사용합니다. 파인콘 인덱스는 자연어 쿼리(쿼리 벡터)를 사용해 검색할 수 있는 표의 벡터 표현을 저장합니다. 파인콘은 쿼리 벡터와 벡터 인덱스에 저장된 포함된 표 간의 유사성을 계산합니다."}),"\n",(0,i.jsx)(s.p,{children:"파인콘을 사용하려면 먼저 파인콘과 연결을 초기화해야 합니다. 파인콘에서 무료 API 키를 발급받아, 아래와 같이 초기화합니다."}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pinecone"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# connect to pinecone environment"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"pinecone"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"init"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    api_key"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"YOUR API KEY"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    environment"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"YOUR_ENVIRONMENT"'})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "})]})}),"\n",(0,i.jsx)(s.p,{children:"새로운 인덱스를 생성합니다. 콘텍스트 임베딩을 생성하는 데 사용하는 검색기가 768차원 벡터를 출력하기 때문에, 메트릭 유형을 '코사인'으로 지정하고 차원을 768로 지정합니다. 파인콘은 코사인 유사성을 사용해 쿼리와 테이블 임베딩 간의 유사성을 계산합니다."}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# you can choose any name for the index"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"index_name "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"table-qa"'})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# check if the table-qa index exists"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" index_name "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"not"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"in"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pinecone"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"list_indexes"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"():"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# create the index if it does not exist"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    pinecone"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"create_index"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"        index_name,"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"        dimension"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"768"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"        metric"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"cosine"'})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"    )"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# connect to table-qa index we created"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"index "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pinecone"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Index"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(index_name)"})]})]})}),"\n",(0,i.jsx)(s.h3,{id:"임베딩-생성-및-업서트",children:"임베딩 생성 및 업서트"}),"\n",(0,i.jsx)(s.p,{children:"테이블 임베딩을 생성하고, 이를 파인콘 인덱스에 업로드해야 합니다. 아래 코드는 테이블 임베딩을 생성하고 파인콘 인덱스에 업로드합니다."}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tqdm"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"auto "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tqdm"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# we will use batches of 64"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"batch_size "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"64"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" i "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"in"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"tqdm"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"range"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:", "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"len"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(processed_tables), batch_size)):"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# find end of batch"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    i_end "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"min"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(i"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"+"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"batch_size, "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"len"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(processed_tables))"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# extract batch"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    batch "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" processed_tables"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"i"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"i_end"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"]"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# generate embeddings for batch"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    emb "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" retriever"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"encode"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(batch)."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"tolist"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# create unique IDs ranging from zero to the total number of tables in the dataset"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    ids "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"f"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"{"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"idx"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"}"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" idx "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"in"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"range"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(i, i_end)"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# add all to upsert list"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    to_upsert "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"list"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"zip"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(ids, emb))"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# upsert/insert these records to pinecone"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    _ "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" index"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"upsert"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(vectors"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"to_upsert)"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# check that we have all vectors in index"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"index"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"describe_index_stats"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"})]})]})}),"\n",(0,i.jsx)(s.pre,{"data-language":"shell","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"shell","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"100%"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"██████████"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"313/313"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" [09:12<00:00, "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1.49"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"s/it]"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"{"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"'dimension'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"768"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"'index_fullness'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0.0"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"'namespaces'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"{"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"''"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"{"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'vector_count'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"20000"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"}},"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"'total_vector_count'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"20000"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"}"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "})]})}),"\n",(0,i.jsx)(s.p,{children:"이제 파인콘 인덱스를 쿼리 할 준비가 되었습니다. 쿼리와 관련된 표를 변환하는지 테스트해 보겠습니다."}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"query "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"which country has the highest GDP in 2020?"'})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# generate embedding for the query"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"xq "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" retriever"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"encode"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"([query])."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"tolist"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# query pinecone index to find the table containing answer to the query"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"result "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" index"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"query"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(xq, top_k"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"result"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "})]})}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsx)(s.code,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'matches'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'id'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'19931'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'score'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0.822087"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'values'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" []"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"}"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'namespace'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"''"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"}"})]})})}),"\n",(0,i.jsx)(s.p,{children:"파인콘 인덱스는 82.2% 신뢰도로 쿼리에 대한 답변을 포함하는 표를 반환했습니다. 이 표에 실제로 답이 포함되어 있는지 확인해 보겠습니다. 반환된 표를, 인덱스를 사용해서 관련 pandas 데이터 프레임을 가져옵니다."}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"id"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"int"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(result["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"matches"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"]["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"]["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"id"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"])"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"tables"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"id"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"]."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"head"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"})]})]})}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Rank"}),(0,i.jsx)(s.th,{children:"Country"}),(0,i.jsx)(s.th,{children:"GDP (PPP, Peak Year) millions of USD"}),(0,i.jsx)(s.th,{children:"Peak Year"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"1"}),(0,i.jsx)(s.td,{children:"China"}),(0,i.jsx)(s.td,{children:"27,804,953"}),(0,i.jsx)(s.td,{children:"2020"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"2"}),(0,i.jsx)(s.td,{children:"India"}),(0,i.jsx)(s.td,{children:"11,321,280"}),(0,i.jsx)(s.td,{children:"2020"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"3"}),(0,i.jsx)(s.td,{children:"Russia"}),(0,i.jsx)(s.td,{children:"4,389,960"}),(0,i.jsx)(s.td,{children:"2019"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"4"}),(0,i.jsx)(s.td,{children:"Indonesia"}),(0,i.jsx)(s.td,{children:"3,778,134"}),(0,i.jsx)(s.td,{children:"2020"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"5"}),(0,i.jsx)(s.td,{children:"Brazil"}),(0,i.jsx)(s.td,{children:"3,596,841"}),(0,i.jsx)(s.td,{children:"2020"})]})]})]}),"\n",(0,i.jsx)(s.p,{children:"파인콘 인덱스에 의해 반환된 표는 실제로 쿼리에 대한 답변을 포함하고 있습니다. 이제 이 표를 읽고 정확한 답을 추출할 수 있는 모델을 만들어봅니다."}),"\n",(0,i.jsx)(s.h3,{id:"표-리더-초기화",children:"표 리더 초기화"}),"\n",(0,i.jsx)(s.p,{children:"표 QA 작업을 위해 미세 조정된 TAPAS 모델을 사용합니다. TAPAS는 위키피디아의 대규모 영어 데이터 모음에서 자체 감독 방식으로 사전 훈련된 BERT와 유사한 트랜스포머(Transformer) 모델입니다. 허깅페이스 모델 허브에서 질문 응답 파이프라인으로 모델과 토크나이저를 로드합니다."}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" transformers "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pipeline"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" TapasTokenizer"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" TapasForQuestionAnswering"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"model_name "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"google/tapas-base-finetuned-wtq"'})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# load the tokenizer and the model from huggingface model hub"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"tokenizer "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" TapasTokenizer"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"from_pretrained"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(model_name)"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"model "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" TapasForQuestionAnswering"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"from_pretrained"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(model_name, local_files_only"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"False"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# load the model and tokenizer into a question-answering pipeline"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"pipe "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"pipeline"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"table-question-answering"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:",  model"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"model, tokenizer"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"tokenizer, device"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"device)"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "})]})}),"\n",(0,i.jsx)(s.p,{children:"답을 추출하기 위해 이전에 사용했던 질문을 응답 파이프라인에 파인콘 인덱스와 쿼리가 반환한 표에 실행해 봅니다."}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"pipe"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(table"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"tables["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"id"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"], query"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"query)"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "})]})}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'answer'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'China'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'coordinates'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" [("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")]"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'cells'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'China'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'aggregator'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'NONE'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"}"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "})]})}),"\n",(0,i.jsx)(s.p,{children:"모델이 질문에 정확하게 대답했습니다."}),"\n",(0,i.jsx)(s.h3,{id:"쿼리",children:"쿼리"}),"\n",(0,i.jsx)(s.p,{children:"먼저 쿼리를 처리하고 표에서 답변을 추출하는 두 가지 함수를 정의합니다."}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"def"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"query_pinecone"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-parameter)"},children:"query"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"):"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# generate embedding for the query"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    xq "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" retriever"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"encode"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"([query])."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"tolist"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# query pinecone index to find the table containing answer to the query"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    result "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" index"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"query"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(xq, top_k"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# return the relevant table from the tables list"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tables"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"int"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(result["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"matches"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"]["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"]["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"id"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"])]"})]})]})}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"def"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"get_answer_from_table"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-parameter)"},children:"table"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-parameter)"},children:"query"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"):"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# run the table and query through the question-answering pipeline"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    answers "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"pipe"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(table"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"table, query"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"query)"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" answers"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "})]})}),"\n",(0,i.jsx)(s.pre,{"data-language":"python","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"python","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"query "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"which car manufacturers produce cars with a top speed of above 180 kph?"'})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"table "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"query_pinecone"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(query)"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"table"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "})]})}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Manufacturer"}),(0,i.jsx)(s.th,{children:"Model"}),(0,i.jsx)(s.th,{children:"Engine"}),(0,i.jsx)(s.th,{children:"Power Output"}),(0,i.jsx)(s.th,{children:"Max-Speed(kph)"}),(0,i.jsx)(s.th,{children:"Dry Weight (kg)"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Fiat"}),(0,i.jsx)(s.td,{children:"805-405"}),(0,i.jsx)(s.td,{children:"FIAT 1979ccS6 supercharged"}),(0,i.jsx)(s.td,{children:"130 bhp"}),(0,i.jsx)(s.td,{children:"220"}),(0,i.jsx)(s.td,{children:"680"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Alfa Romeo"}),(0,i.jsx)(s.td,{children:"GPR (P1)"}),(0,i.jsx)(s.td,{children:"Alfa Romeo 1990cc S6"}),(0,i.jsx)(s.td,{children:"95 bhp"}),(0,i.jsx)(s.td,{children:"180"}),(0,i.jsx)(s.td,{children:"850"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Diatto"}),(0,i.jsx)(s.td,{children:"Tipo 20 S"}),(0,i.jsx)(s.td,{children:"Diatto 1997cc S4"}),(0,i.jsx)(s.td,{children:"75 bhp"}),(0,i.jsx)(s.td,{children:"155"}),(0,i.jsx)(s.td,{children:"700"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Bugatti"}),(0,i.jsx)(s.td,{children:"Type 32"}),(0,i.jsx)(s.td,{children:"Bugatti 1991cc S8"}),(0,i.jsx)(s.td,{children:"100 bhp"}),(0,i.jsx)(s.td,{children:"190"}),(0,i.jsx)(s.td,{children:"660"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Voisin"}),(0,i.jsx)(s.td,{children:"C6 Laboratoire"}),(0,i.jsx)(s.td,{children:"Voisin 1978cc S6"}),(0,i.jsx)(s.td,{children:"90 bhp"}),(0,i.jsx)(s.td,{children:"175"}),(0,i.jsx)(s.td,{children:"710"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Sunbeam"}),(0,i.jsx)(s.td,{children:"Sunbeam 1988cc S6"}),(0,i.jsx)(s.td,{children:"108 bhp"}),(0,i.jsx)(s.td,{children:"180"}),(0,i.jsx)(s.td,{children:"675"}),(0,i.jsx)(s.td,{})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Mercedes"}),(0,i.jsx)(s.td,{children:"M7294"}),(0,i.jsx)(s.td,{children:"Mercedes 1990cc S4 superchared"}),(0,i.jsx)(s.td,{children:"120 bhp"}),(0,i.jsx)(s.td,{children:"180"}),(0,i.jsx)(s.td,{children:"750"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Benz"}),(0,i.jsx)(s.td,{children:"RH Tropfenwagen"}),(0,i.jsx)(s.td,{children:"Benz 1998cc S6"}),(0,i.jsx)(s.td,{children:"95 bhp"}),(0,i.jsx)(s.td,{children:"185"}),(0,i.jsx)(s.td,{children:"745"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Miller"}),(0,i.jsx)(s.td,{children:"122"}),(0,i.jsx)(s.td,{children:"Miller 1978cc S8"}),(0,i.jsx)(s.td,{children:"120 bhp"}),(0,i.jsx)(s.td,{children:"186"}),(0,i.jsx)(s.td,{children:"850"})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"참고",children:"참고"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://huggingface.co/tasks/question-answering",children:"Hugginface queestion-answering"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://lilianweng.github.io/posts/2020-10-29-odqa/",children:"How to build an Open-Domain Question Answering System?"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://docs.pinecone.io/docs/table-qa",children:"Pinecone Table Question Answering"})}),"\n"]})]})}var x=(0,r.j)(d)}},function(e){e.O(0,[479,774,888,179],function(){return e(e.s=6918)}),_N_E=e.O()}]);